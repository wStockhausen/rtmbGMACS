
#> Create the individual dimensions as vectors or lists (for nested dimensions)
#> --assign the attribute "dmnms", the dimension name(s) (plural if nested)
#> ----model years
vYs = 2014:2025;                  attr(vYs,"dmnms")<-"y";
#> ----model seasons
vSs = c("fall","spring");         attr(vSs,"dmnms")<-"s";
#> ----model sexes
vXs = c("male","female");         attr(vXs,"dmnms")<-"x";
#> ----model sizes, nested with sexes
vZs = list(male=seq(40,60,5),
           female=seq(25,50,5));  attr(vZs,"dmnms")<-c("x","z");
#>--create the dimensions "mapâ€
dmsYSC = createSparseDimsMap(y=vYs,s=vSs,x=vXs,z=vZs);


  mfx  = dmsYSC |> dplyr::filter(x=="MALE")   |>
              dplyr::select(y,s,x) |> dplyr::distinct() |>
              dplyr::mutate(yn=as.numeric(y),
                            yblk=ifelse(yn<2019,"<2019",
                                        ifelse(yn<2022,"<2022",">=2022")));
  mff  = dmsYSC |> dplyr::filter(x=="FEMALE") |>
              dplyr::select(y,s,x) |> dplyr::distinct() |>
              dplyr::mutate(yn=as.numeric(y));
  mfY     = dmsYSC |> dplyr::select(y) |> dplyr::distinct() |>
              dplyr::mutate(yn=as.numeric(y));
  contr_none  = "contr.none";
  contr_sum   = list(x="contr.sum",m="contr.sum");

  PARAM_EQS
  par_id   par_idx  frame  link_fcn  formula          contrasts
  pLnA       1      mfx     ident     ~1              contr_none   #--males, 1 FE, no REs, no smooths
  pB         1      mfx     ident     ~1+ar1(y|yblk)  contr_none   #--males, 1 FE, AR1 y in yblk REs, no smooths
  pZ0        1      mfY     ident     ~1              contr_none   #--all sexes, 1 FE
  pLnA       2      mff     ident     ~1+s            contr_sum    #--females by season, sum-to-zero contrast
  pB         2      mff     ident     ~0+s+s(y)       contr_sum    #--same + smooth on year
  END_PARAM_EQS
  PARAM_VALS
    values specification to be determined (initial value, limits, mirroring, estimation on/off)
  END_PARAM_VALS
  FUNCTIONS
  fcn_idx  fcn_id      fcn_nm    frame    vars      par_idxs            covariates  link    description
    1      males       pwrLaw2   mfx       z    c(pLnA=1,pB=1,pZ0=1)    ~s(temp)    exp     males:_w(z)_=_exp(pLnA+pB*log(z/pZ0))
    2      females     pwrLaw2   mf        z    c(pLnA=2,pB=2,pZ0=1)       NA       NA      females:_w(z)_=_exp(pLnA+pB*log(z/pZ0))
  END_FUNCTIONS
  FUNCTION_VALS  (if not parameterized)
    values specification to be determined (table of values)
  END_FUNCTION_VALS

